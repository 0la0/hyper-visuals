<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PS-Markup Example</title>
    <style>
      html, body {
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
        background-color: #242424;
        color: #CCC;
        font-family: helvetica, arial, sans-serif;
        font-size: 12px;
        overflow: hidden;
      }
      .toggle-button {
        position: absolute;
        right: 0;
        top: 0;
        padding: 8px;
        margin: 8px;
        background: unset;
        color: #CCC;
        border: 2px solid #CCC;
        border-radius: 4px;
        cursor: pointer;
      }
    </style>
    <script src="./dist/psvizmarkup.js"></script>
    <script>
      let isOn = false;
      function toggle() {
        isOn = !isOn;
        const scene = document.getElementById('scene');
        isOn ? scene.start() : scene.stop();
      }
    </script>
  </head>
  <body>
    <button class="toggle-button" onclick="toggle(event)">toggle</button>
    <ps-viz-scene embed id="scene">
      <ps-viz-cone
        position="fn(10*saw(time)) -10 0"
        rotation="addr(a)"
        scale="1 1 1"
        color="0.5 0 0.8"
      >
      </ps-viz-cone>
      <ps-viz-plane
        position="fn(10*sin(time)) -10 0"
        rotation="fn(time*0.25) fn(time) fn(time*0.125)"
        scale="1 1 1"
        color="0.5 0 0.8"
      >
      </ps-viz-plane>
      <ps-viz-ring
        position="10 10 0"
        rotation="fn(time*0.125) 0 fn(time*0.125)"
        scale="4"
        color="0 0 1"
      >
      </ps-viz-ring>
      <ps-viz-repeat
        repeat="30 30 10"
        stride="4 3 4"
        pos-mod="mod(10*sin(0.1*sin(0.001*time)*y)) mod(10*cos(0.1*sin(0.001*time)*x)) 0"
      >
        <ps-viz-triangle
          scale="0.2"
          color="0 0.8 0.2"
          position="fn(10*sin(0.5*time)) 0 0"
          rotation="fn(0.25*time)"
        >
        </ps-viz-triangle>
      </ps-viz-repeat>
      <ps-viz-light
        position="fn(50*sin(time)) fn(50*cos(0.5*time)) fn(80*cos(0.25*time))"
        color="1 1 1"
      >
      </ps-viz-light>
      <ps-viz-background
        color="0 0 0"
        light-color="1 1 1"
        light-intensity="fn(0.5*sin(0.25*time)+0.5)"
      >
      </ps-viz-background>
      <ps-viz-camera
        position="0 0 100"
        rotation="0 0 0"
      >
      </ps-viz-camera>
    </ps-viz-scene>
  </body>  
</html>
